import{d as k,r as i,j as b,y as I,g as h,w as t,f as E,o as S,h as s,b as e,a as c,u as F}from"./index-CoG93HgI.js";import{L as N,E as C,a as B,b as P,c as U}from"./LoginView-lcoJkXZl.js";import{E as q}from"./el-button-CTsd_P2t.js";import{E as L}from"./el-checkbox-FabI2n_n.js";import{E as R}from"./el-input-C4XMZhX7.js";import"./castArray-C3wK1Qns.js";import"./index-D3Hawkyn.js";import"./index-cgMO_-1N.js";import"./get-CkTJ0Uuv.js";import"./isEqual-D4ZmZFBW.js";const W={class:"flex-bc mb-[40px]"},z={class:"text-center flex-c"},T={class:"text-center flex-c mt-[30px]"},O=k({__name:"loginPage",setup($){const _=E(),f=i(),n=i(!1),m=i(!1),l=b({name:"",password:""});I(()=>{console.log("the component is now mounted."),localStorage.getItem("rememberPW")==="true"&&(n.value=!0,m.value=!0,l.name=localStorage.getItem("userName"),l.password=localStorage.getItem("user_auth_pendw"))});const w=b({name:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码"}]}),x=async p=>{p&&await p.validate((o,u)=>{o?(console.log("submit!"),n.value?(localStorage.setItem("rememberPW","true"),localStorage.setItem("userName",l.name),localStorage.setItem("user_auth_pendw",l.password)):(localStorage.removeItem("userName"),localStorage.removeItem("user_auth_pendw"),localStorage.setItem("rememberPW","false")),localStorage.setItem("token","11111"),_.replace({name:"home"})):console.log("error submit!",u)})};return(p,o)=>{const u=R,d=C,g=L,v=B,V=q,y=P,r=U;return S(),h(N,null,{title:t(()=>[s(" 医师登录 ")]),form:t(()=>[e(y,{ref_key:"loginFormRef",ref:f,style:{"max-width":"400px"},model:l,rules:w,"label-width":"auto",class:"demo-loginForm",size:"large","label-position":"top","status-icon":"","hide-required-asterisk":""},{default:t(()=>[e(d,{label:"账户",prop:"name"},{default:t(()=>[e(u,{modelValue:l.name,"onUpdate:modelValue":o[0]||(o[0]=a=>l.name=a),placeholder:"请输入账户"},null,8,["modelValue"])]),_:1}),e(d,{label:"密码",prop:"password",class:"!mb-[10px]"},{default:t(()=>[e(u,{modelValue:l.password,"onUpdate:modelValue":o[1]||(o[1]=a=>l.password=a),type:"password",placeholder:"请输入密码","show-password":""},null,8,["modelValue"])]),_:1}),c("div",W,[e(g,{class:"radio-checkbox",label:"记住密码",modelValue:n.value,"onUpdate:modelValue":o[2]||(o[2]=a=>n.value=a)},null,8,["modelValue"]),e(v,{type:"primary"},{default:t(()=>[s("忘记密码")]),_:1})]),e(d,null,{default:t(()=>[e(V,{disabled:!m.value,size:"large",class:"w-full text-[16px]",type:"primary",onClick:o[3]||(o[3]=a=>x(f.value))},{default:t(()=>[s(" 登录 ")]),_:1},8,["disabled"])]),_:1})]),_:1},8,["model","rules"]),c("p",z,[e(r,null,{default:t(()=>[s("我还没有账号，")]),_:1}),e(r,{type:"primary",class:"cursor-pointer",onClick:o[4]||(o[4]=a=>F(_).push({name:"register"}))},{default:t(()=>[s("立即注册")]),_:1})]),c("p",T,[e(g,{class:"radio-checkbox",label:"",value:"Value 1",modelValue:m.value,"onUpdate:modelValue":o[5]||(o[5]=a=>m.value=a)},null,8,["modelValue"]),e(r,null,{default:t(()=>[s("登录即同意")]),_:1}),e(r,{type:"primary",class:"cursor-pointer"},{default:t(()=>[s("《用户协议》")]),_:1}),e(r,{type:"primary",class:"cursor-pointer"},{default:t(()=>[s("《隐私政策》")]),_:1})])]),_:1})}}});export{O as default};
